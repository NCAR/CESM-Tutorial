

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Basic Plotting &#8212; CESM Tutorial</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/diagnostics/cice/basics_cice';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Advanced Plotting" href="advanced_cice.html" />
    <link rel="prev" title="Sea Ice" href="cice.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../../README.html">
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/ncar_logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../../_static/ncar_logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../README.html">
                    Welcome to the CESM Tutorial
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../intro/intro_overview.html">Introduction</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../intro/components.html">Model Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/coupling.html">Shared Infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/project.html">Project Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/getting_help.html">Getting Help</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../intro/community_experiments.html">Community Experiments</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../intro/cesm_expts/clim_data_gateway.html">Climate Data Gateway</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../intro/cesm_expts/clim_data_guide.html">Climate Data Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../prereqs/prereqs_overview.html">Prerequisites for Success</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../prereqs/exercises.html">Exercise Overview</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../basics/basics_overview.html">Basics</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../basics/cesm_workspaces.html">Workspaces</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../basics/code_overview.html">CESM code</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../basics/code/git_download_cesm.html">Download CESM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basics/code/cesm_code_explore.html">Explore CESM Code</a></li>




</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../basics/cesm_workflow.html">CESM Workflow</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../basics/cesm_workflow/create_newcase.html">Create New Case</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basics/cesm_workflow/case_setup.html">Case Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basics/cesm_workflow/case_build.html">Case Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basics/cesm_workflow/case_submit.html">Case Submit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basics/cesm_workflow/model_output.html">Model Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basics/cesm_workflow/checking_jobs_and_status.html">Checking Your Run</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basics/cesm_workflow/create_clone.html">Create Clone</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../basics/exercises_overview.html">Exercise Overview</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../basics/exercises/first_B1850.html">Your first CESM run</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basics/exercises/second_B1850.html">Extending your run</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basics/exercises/examine_history_B1850.html">Examine History Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basics/exercises/extra.html">Explore Further</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basics/exercises/review_questions.html">Review Questions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../modifications/xml.html">Simple XML Modifications</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../modifications/xml/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modifications/xml/model_control_files.html">How to Modify XML Files (*.xml)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../modifications/xml/run_length.html">Controlling Run Length</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modifications/xml/run_length/starting_and_stopping.html">Starting and Stopping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modifications/xml/run_length/restarting.html">Restarting a Run</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modifications/xml/run_length/changing_run_length.html">Changing Run Length</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modifications/xml/run_length/timing_files.html">Using Timing Files</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../modifications/xml/modify_run_type.html">Modifying the Type of Run</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modifications/xml/modify_run_type/hybrid_branch_restart.html">Hybrid, Branch and Startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modifications/xml/modify_run_type/run_variables.html">Variables Related to Run Type</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../modifications/xml/physics_timestep.html">Physics Timestep</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modifications/xml/other_xml_variables.html">Other Useful XML Variables</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../modifications/xml/exercises.html">Exercise Overview</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modifications/xml/exercises/xml_length_exercise.html">Exercise 1: Modify run length</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modifications/xml/exercises/xml_runtype_exercise.html">Exercise 2: Modify run type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modifications/xml/exercises/xml_timestep_exercise.html">Exercise 3: Change physics timestep</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../namelist/namelist.html">Namelist Modifications</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../namelist/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../namelist/documentation.html">Namelist Variables Documentation</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../namelist/output.html">Customizing Output</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../namelist/output/output_cam.html">Customize CAM output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../namelist/output/output_clm.html">Customize CLM output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../namelist/output/output_cice.html">Customize CICE output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../namelist/output/output_pop.html">Customize POP output</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../namelist/exercises_overview.html">Exercise Overview</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../namelist/exercises/exercise_cam_output.html">Modify CAM output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../namelist/exercises/exercise_tuning_parameter.html">Change a tuning parameter in CAM</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../troubleshooting/troubleshooting.html">Troubleshooting runtime errors</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/log_files.html">The log files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/debugging_flag.html">Adding debugging info</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../troubleshooting/exercises_overview.html">Exercise Overview</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/exercises/troubleshooting_cam.html">Debugging CAM</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../sourcemods/sourcemods.html">Source Modifications</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sourcemods/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sourcemods/add_fields_cam.html">Source Modification Example</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../sourcemods/exercises_overview.html">Exercise Overview</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sourcemods/exercises/exercise_add_field.html">Add output variable in CAM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sourcemods/exercises/exercise_rain_threshold.html">Modify the <code class="docutils literal notranslate"><span class="pre">rain_threshold</span></code> in CLM</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../diagnostics.html">Diagnostics</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../cam/cam.html">Atmosphere</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../cam/basics_cam.html">Basic Plotting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cam/advanced_cam.html">Advanced Plotting</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../clm_ctsm/clm_ctsm.html">Land</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../clm_ctsm/basics_clm.html">Basic Plotting</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../pop/pop.html">Ocean</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../pop/basics_pop.html">Basic Plotting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pop/advanced_pop.html">Advanced Plotting</a></li>
</ul>
</li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="cice.html">Sea Ice</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-23"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Basic Plotting</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_cice.html">Advanced Plotting</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../additional/additional.html">Additional Topics</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-24"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../additional/postprocessing.html">Postprocessing data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../additional/cvdp.html">CVDP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../additional/analysis_tools.html">CESM analysis tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../challenge/challenge.html">Challenge Exercises</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-25"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../challenge/cam/cam.html">Atmosphere</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-26"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cam/exercise_1.html">1: Control case: F2000climo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cam/exercise_2.html">2: Historical compset: FHIST</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cam/exercise_3.html">3: Starting FHIST from spunup state in 1850</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cam/exercise_4.html">4: Increase orographic height over the western US</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cam/exercise_5.html">5: Modify sea surface temperature in the tropics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cam/exercise_6.html">6: Adjust threshold for deep convection over land</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../challenge/cam-chem_waccm/cam-chem_waccm.html">Atmospheric chemistry</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-27"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cam-chem_waccm/exercise_1.html">1: Control case: running with chemistry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cam-chem_waccm/exercise_2.html">2: Test case: changing the chemistry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cam-chem_waccm/exercise_3.html">3: Test case: changing the emissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cam-chem_waccm/visualization.html">4: Visualization option with GEOV</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../challenge/clm_ctsm/clm_ctsm.html">Land</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-28"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/clm_ctsm/clm_exercise_1.html">1: Control case</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/clm_ctsm/clm_exercise_2.html">2: Use the BGC model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/clm_ctsm/clm_exercise_3.html">3: Modify input data</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../challenge/pop/pop.html">Ocean</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-29"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/pop/pop_exercise_1.html">1: Control case</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/pop/pop_exercise_2.html">2: Turn off parameterization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/pop/pop_exercise_3.html">3: Modify wind stress</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/pop/pop_exercise_4.html">4: Turn on the ecosystem</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../challenge/cice/cice.html">Sea Ice</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-30"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cice/cice_exercise_1.html">1: Control case</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cice/cice_exercise_2.html">2: Tune the albedo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cice/cice_exercise_3.html">3: Modify the snow conductivity</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../challenge/cism/cism.html">Land Ice</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-31"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cism/cism_exercise_1.html">CISM Challenge Exercise</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cism/cism_exercise_2.html">Looking at the simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/cism/cism_exercise_3.html">Computing ice sheet related sea level change from a CISM simulation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../challenge/bgc/bgc.html">Biogeochemistry</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-32"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../challenge/bgc/bgc_exercise_1.html">1: Set up a BGC case</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../resources/resources_overview.html">Resources</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-33"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../resources/profile.html">NCAR HPC Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/terminals.html">Terminal Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/unix.html">UNIX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/text_editors.html">Text Editors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/github.html">Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/fortran.html">Fortran</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/netcdf.html">NetCDF files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/porting.html">Porting</a></li>

</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/NCAR/CESM-Tutorial" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/NCAR/CESM-Tutorial/issues/new?title=Issue%20on%20page%20%2Fnotebooks/diagnostics/cice/basics_cice.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/notebooks/diagnostics/cice/basics_cice.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Basic Plotting</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1-plot-sea-ice-concentration-on-a-polar-projection">Exercise 1: Plot Sea Ice Concentration on a polar projection.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2-plot-a-time-series-of-total-sea-ice-area">Exercise 2: Plot a time series of total sea ice area.</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="basic-plotting">
<h1>Basic Plotting<a class="headerlink" href="#basic-plotting" title="Permalink to this heading">#</a></h1>
<p><strong>BEFORE BEGINNING THIS EXERCISE</strong> -  Check that your kernel (upper right corner, above) is <code class="docutils literal notranslate"><span class="pre">NPL</span> <span class="pre">2023a</span></code>. This should be the default kernel, but if it is not, click on that button and select <code class="docutils literal notranslate"><span class="pre">NPL</span> <span class="pre">2023a</span></code>.</p>
<hr class="docutils" />
<p>This activity was developed primarily by David Bailey and Alice DuVivier.</p>
<hr class="docutils" />
<p>These are examples of typical variables and plots that we look at in our sea ice diagnostics package. The most current version of the sea ice diagnostics are in the CESM Postprocessing. More information can be found here: <a class="reference external" href="https://github.com/NCAR/CESM_postprocessing">CESM Postprocessing</a>.</p>
<p>The first step is to import the libraries needed to plot the data. Here we will use <code class="docutils literal notranslate"><span class="pre">xarray</span></code> as a tool to read the netCDF file. We will use <code class="docutils literal notranslate"><span class="pre">numpy</span></code> for some basic math calculations. For plotting the data we will need <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, <code class="docutils literal notranslate"><span class="pre">pop_tools</span></code>, <code class="docutils literal notranslate"><span class="pre">geocat</span></code> and <code class="docutils literal notranslate"><span class="pre">cartopy</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.path</span> <span class="k">as</span> <span class="nn">mpath</span>
<span class="kn">from</span> <span class="nn">matplotlib.gridspec</span> <span class="kn">import</span> <span class="n">GridSpec</span>
<span class="kn">import</span> <span class="nn">pop_tools</span>
<span class="kn">import</span> <span class="nn">cartopy.crs</span> <span class="k">as</span> <span class="nn">ccrs</span>
<span class="kn">import</span> <span class="nn">cartopy.feature</span> <span class="k">as</span> <span class="nn">cfeature</span>
<span class="kn">import</span> <span class="nn">nc_time_axis</span>
<span class="kn">import</span> <span class="nn">cftime</span>
<span class="kn">import</span> <span class="nn">os</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<section id="exercise-1-plot-sea-ice-concentration-on-a-polar-projection">
<h2>Exercise 1: Plot Sea Ice Concentration on a polar projection.<a class="headerlink" href="#exercise-1-plot-sea-ice-concentration-on-a-polar-projection" title="Permalink to this heading">#</a></h2>
<p>Here you will learn about plotting sea ice area and other variables on a polar projection.</p>
<p>The first step is to grab sea ice (CICE) history files from your CESM model run</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set your username here:</span>
<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;PUT_USER_NAME_HERE&quot;</span>

<span class="c1"># Here we point to the archive directory from your b.day2.1 simulation</span>
<span class="n">monthly_output_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/glade/scratch/</span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s2">/archive/b.day2.1/ice/hist&quot;</span>

<span class="c1"># If you were unable to successfully run the b.day2.1 simulation, then feel free to use</span>
<span class="c1"># this provided simulation data instead:</span>
<span class="n">monthly_output_path</span> <span class="o">=</span> <span class="s2">&quot;/glade/p/cesm/tutorial/tutorial_2023_archive/b.day2.1/ice/hist&quot;</span>

<span class="c1"># Name of CESM run</span>
<span class="n">run_name</span> <span class="o">=</span> <span class="s2">&quot;b.day2.1&quot;</span>

<span class="c1"># Create path to all files, including unix wild card for all dates</span>
<span class="n">files</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">monthly_output_path</span><span class="p">,</span> <span class="n">run_name</span> <span class="o">+</span> <span class="s2">&quot;.cice.h.*&quot;</span><span class="p">)</span>

<span class="c1"># read in files as an xarray dataset:</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>

<span class="c1">### For this analysis, choose which variable to keep. Start with `aice` and then later try `hi`</span>
<span class="c1">#var_in = &#39;aice&#39;    # sea ice concentration</span>
<span class="n">var_in</span> <span class="o">=</span> <span class="s1">&#39;hi&#39;</span>      <span class="c1"># sea ice thickness</span>

<span class="n">var_to_keep</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="n">var_in</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">var_to_keep</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;xarray.DataArray &#39;hi&#39; (time: 40, nj: 384, ni: 320)&gt;
dask.array&lt;concatenate, shape=(40, 384, 320), dtype=float32, chunksize=(1, 384, 320), chunktype=numpy.ndarray&gt;
Coordinates:
  * time     (time) object 0001-02-01 00:00:00 ... 0004-05-01 00:00:00
    TLON     (nj, ni) float32 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
    TLAT     (nj, ni) float32 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
    ULON     (nj, ni) float32 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
    ULAT     (nj, ni) float32 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
Dimensions without coordinates: nj, ni
Attributes:
    units:          m
    long_name:      grid cell mean ice thickness
    cell_measures:  area: tarea
    cell_methods:   time: mean
    time_rep:       averaged
</pre></div>
</div>
</div>
</div>
<p>The next step is to read in some grid information for the <code class="docutils literal notranslate"><span class="pre">gx1v7</span></code> dipole grid used in POP and CICE. We will read in three main variables: <code class="docutils literal notranslate"><span class="pre">tarea</span></code>, <code class="docutils literal notranslate"><span class="pre">TLAT</span></code>, and <code class="docutils literal notranslate"><span class="pre">TLON</span></code>. These are the areas of the gridcells along with the latitudes and longitudes of the gridcell centers. Also, we will print the longitude array <code class="docutils literal notranslate"><span class="pre">TLONG</span></code> to see the metadata.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get pop grid grid cell areas</span>
<span class="n">grid</span> <span class="o">=</span> <span class="n">pop_tools</span><span class="o">.</span><span class="n">get_grid</span><span class="p">(</span><span class="s1">&#39;POP_gx1v7&#39;</span><span class="p">)</span>

<span class="c1"># convert tarea to m^2</span>
<span class="k">with</span> <span class="n">xr</span><span class="o">.</span><span class="n">set_options</span><span class="p">(</span><span class="n">keep_attrs</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">grid</span><span class="p">[</span><span class="s1">&#39;TAREA&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="s1">&#39;TAREA&#39;</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="mf">1e4</span><span class="p">)</span>
<span class="n">grid</span><span class="p">[</span><span class="s1">&#39;TAREA&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;m^2&#39;</span>

<span class="n">grid</span>

<span class="n">grid</span><span class="p">[</span><span class="s1">&#39;TLONG&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>We will merge in three main variables: <code class="docutils literal notranslate"><span class="pre">TAREA</span></code>, <code class="docutils literal notranslate"><span class="pre">TLAT</span></code>, and <code class="docutils literal notranslate"><span class="pre">TLON</span></code>. These are the areas of the gridcells along with the latitudes and longitudes of the gridcell centers. Note that this overwrites the dataset object from above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">merge</span><span class="p">([</span><span class="n">var_to_keep</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;TLAT&#39;</span><span class="p">,</span> <span class="s1">&#39;TLON&#39;</span><span class="p">,</span> <span class="s1">&#39;ULAT&#39;</span><span class="p">,</span> <span class="s1">&#39;ULON&#39;</span><span class="p">]),</span>
               <span class="n">grid</span><span class="p">[[</span><span class="s1">&#39;TLAT&#39;</span><span class="p">,</span> <span class="s1">&#39;TLONG&#39;</span><span class="p">,</span> <span class="s1">&#39;TAREA&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">rename_dims</span><span class="p">({</span><span class="s1">&#39;nlat&#39;</span><span class="p">:</span><span class="s1">&#39;nj&#39;</span><span class="p">,</span><span class="s1">&#39;nlon&#39;</span><span class="p">:</span><span class="s1">&#39;ni&#39;</span><span class="p">})],</span>
              <span class="n">compat</span><span class="o">=</span><span class="s1">&#39;identical&#39;</span><span class="p">,</span> <span class="n">combine_attrs</span><span class="o">=</span><span class="s1">&#39;no_conflicts&#39;</span><span class="p">)</span>
<span class="n">grid</span><span class="p">[</span><span class="s1">&#39;TLAT&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>The next step is to set up the northern hemisphere polar stereographic projection for plotting the sea ice variable. We start with sea ice concentration <code class="docutils literal notranslate"><span class="pre">aice</span></code>. We are using a “rainbow” colormap here and cutting off the plot with a circular boundary. Note that we are only plotting the first timeslice of the <code class="docutils literal notranslate"><span class="pre">aice</span></code> array here.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># make circular boundary for polar stereographic circular plots</span>
<span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">center</span><span class="p">,</span> <span class="n">radius</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="mf">0.5</span>
<span class="n">verts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)])</span><span class="o">.</span><span class="n">T</span>
<span class="n">circle</span> <span class="o">=</span> <span class="n">mpath</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">verts</span> <span class="o">*</span> <span class="n">radius</span> <span class="o">+</span> <span class="n">center</span><span class="p">)</span>

<span class="c1"># define the colormap</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;rainbow&#39;</span><span class="p">)</span>  

<span class="c1"># set up the figure with a North Polar Stereographic projection</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">NorthPolarStereo</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_boundary</span><span class="p">(</span><span class="n">circle</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">LAND</span><span class="p">,</span><span class="n">zorder</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>

<span class="c1"># sets the latitude / longitude boundaries of the plot</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_extent</span><span class="p">([</span><span class="mf">0.005</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">55</span><span class="p">],</span> <span class="n">crs</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>

<span class="c1">#Plot the first timeslice of aice</span>
<span class="n">this</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;TLONG&#39;</span><span class="p">],</span>
                   <span class="n">ds</span><span class="p">[</span><span class="s1">&#39;TLAT&#39;</span><span class="p">],</span>
                   <span class="n">ds</span><span class="p">[</span><span class="n">var_in</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(),</span>
                   <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span><span class="n">vmax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                   <span class="n">transform</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">this</span><span class="p">,</span><span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">,</span><span class="n">fraction</span><span class="o">=</span><span class="mf">0.04</span><span class="p">,</span><span class="n">pad</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Sea Ice Concentration&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="alert alert-success">   
<details>
<summary><font face="Times New Roman" color='blue'>Click here for the solution</font></summary><br>
<p><img alt="plot example" src="../../../_images/basics_plot_11.png" /></p>
<p><em><p style="text-align: center;"> Figure: Plotting solution. </p></em></p>
</details>
</div><p><strong>Question:</strong></p>
<p>Why is the scale from 0-1 for <code class="docutils literal notranslate"><span class="pre">aice</span></code>?</p>
<div class="alert alert-warning">  
<details>
<summary> <font face="Times New Roman" color='blue'>Click here for hints</font> </summary>
<p>The variable <code class="docutils literal notranslate"><span class="pre">aice</span></code> is actually ice fraction. To convert it to concentration you would need to multipy it by 100. In the rest of these notebooks we use the ice fraction fairly interchangeably with ice concentration. But if you are plotting these you should check your range and see if the maximum value is 1 or 100 because that’s important for setting colorbar limits.</p>
</details>
</div><p><strong>Question:</strong></p>
<p>What month did you plot above? How could you plot the September ice concentration? (Remember that the monthly files are written at the last timestep of the month, so the June files are written out on July 1 at 00Z).</p>
<div class="alert alert-warning">  
<details>
<summary> <font face="Times New Roman" color='blue'>Click here for hints</font> </summary>
<p>You can check the date plotted by using the following command.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;aice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">time</span>

</pre></div>
</div>
<p>You should see that the date is Feb.1 of year 1 at 00Z. Which means it is the January mean sea ice concentration. To plot the September mean sea ice concentration, use the timeslice <code class="docutils literal notranslate"><span class="pre">time=8</span></code>.</p>
</details>
</div><p><strong>Question:</strong></p>
<p>What do you think of that rainbow colormap? Try other colormaps like <code class="docutils literal notranslate"><span class="pre">viridis</span></code>, <code class="docutils literal notranslate"><span class="pre">plasma</span></code>, <code class="docutils literal notranslate"><span class="pre">Blues</span></code>. Note that if you add the string <code class="docutils literal notranslate"><span class="pre">_r</span></code> to the colormap name it will reverse the colormap. What is a more intutitive map for plotting sea ice concentration?</p>
<div class="alert alert-warning">  
<details>
<summary> <font face="Times New Roman" color='blue'>Click here for hints</font> </summary>
<p>We think the reversed Blues colormap is more intuitive.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;Blues_r&#39;</span><span class="p">)</span> 

</pre></div>
</div>
</details>
</div><p><strong>Question:</strong></p>
<p>Can you plot the annual mean over the data? What about computing the September mean over the data and plotting that?</p>
<div class="alert alert-warning">  
<details>
<summary> <font face="Times New Roman" color='blue'>Click here for hints</font> </summary>
<p>Try entering the following data to plot in the <code class="docutils literal notranslate"><span class="pre">pcolormesh</span></code> function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;aice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(),</span>

</pre></div>
</div>
</details>
</div><p><strong>Question:</strong></p>
<p>You have plotted the sea ice concentration (<code class="docutils literal notranslate"><span class="pre">aice</span></code>), now try plotting the thickness (<code class="docutils literal notranslate"><span class="pre">hi</span></code>). Note that the units of thickness are in meters, so think about how you should adjust the colorbar range to be sensible? Note that you will have to change the <code class="docutils literal notranslate"><span class="pre">var_in</span></code> at the top of this section.</p>
<div class="alert alert-warning">  
<details>
<summary> <font face="Times New Roman" color='blue'>Click here for hints</font> </summary>
<p>After selecting <code class="docutils literal notranslate"><span class="pre">var_in</span> <span class="pre">=</span> <span class="pre">hi</span></code>, run through the following cells. Then check different ranges for <code class="docutils literal notranslate"><span class="pre">vmax</span></code> that might make more sense for the sea ice thickness (e.g. <code class="docutils literal notranslate"><span class="pre">vmax=5</span></code>)</p>
</details>
</div><p><strong>Question:</strong></p>
<p>All of the previous plots were of the Northern Hemisphere. How would you plot the Southern Hemisphere? How might you want to consider the seasonality if you’re looking at Antarctic sea ice?</p>
<div class="alert alert-warning">  
<details>
<summary> <font face="Times New Roman" color='blue'>Click here for hints</font> </summary>
<p>Use the following to plot the Southern Hemisphere</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">SouthPolarStereo</span><span class="p">())</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_extent</span><span class="p">([</span><span class="mf">0.005</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="o">-</span><span class="mi">55</span><span class="p">],</span> <span class="n">crs</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
</pre></div>
</div>
</details>
</div></section>
<hr class="docutils" />
<section id="exercise-2-plot-a-time-series-of-total-sea-ice-area">
<h2>Exercise 2: Plot a time series of total sea ice area.<a class="headerlink" href="#exercise-2-plot-a-time-series-of-total-sea-ice-area" title="Permalink to this heading">#</a></h2>
<p>The next few steps read in sea ice concentration or (<code class="docutils literal notranslate"><span class="pre">aice</span></code>) from one of the CESM2 large ensemble historical runs. Note this operation points to multiple files on the campaign file system, so we are using the <code class="docutils literal notranslate"><span class="pre">xarray</span></code> function <code class="docutils literal notranslate"><span class="pre">open_mfdataset</span></code> for a multifile dataset. We will also print the <code class="docutils literal notranslate"><span class="pre">aice</span></code> dataset to get an idea of the metadata and dimensions. Note that we could use the 10 year simulation from the tutorial. Note that we could use the output from the tutorial simulations. However, those runs are very short and thus are not a very interesting timeseries. Instead we can use one of the CESM2 Large Ensemble historical simulations. <a class="reference external" href="https://doi.org/10.5194/esd-12-1393-2021">Rodgers et al. 2021</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># First remove the old &#39;ds&#39; variable:</span>
<span class="k">del</span> <span class="n">ds</span>

<span class="c1">### Here we point to the CESM2-LE datasets on campaign disk</span>

<span class="n">monthly_output_path</span> <span class="o">=</span> <span class="s2">&quot;/glade/campaign/cgd/cesm/CESM2-LE/ice/proc/tseries/month_1&quot;</span>
<span class="n">run_name</span> <span class="o">=</span> <span class="s2">&quot;b.e21.BHISTcmip6.f09_g17.LE2-1001.001&quot;</span>



<span class="c1">### For this we will use the sea ice concentration (aice) and ice thickness (hi)</span>

<span class="n">var_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;aice&#39;</span><span class="p">,</span>
             <span class="s1">&#39;hi&#39;</span><span class="p">,</span>
            <span class="p">]</span>

<span class="c1">### This piece of code opens the files and combines them into a single xarray dataset</span>

<span class="n">da_list</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">var_name</span> <span class="ow">in</span> <span class="n">var_names</span><span class="p">:</span>
    <span class="n">files</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">monthly_output_path</span><span class="p">,</span> <span class="n">var_name</span><span class="p">,</span>
                         <span class="n">run_name</span> <span class="o">+</span> <span class="s2">&quot;.cice.h.&quot;</span> <span class="o">+</span> <span class="n">var_name</span> <span class="o">+</span> <span class="s2">&quot;.*&quot;</span><span class="p">)</span>
    <span class="n">ds_in</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
    <span class="n">da_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ds_in</span><span class="p">[</span><span class="n">var_name</span><span class="p">])</span>
    <span class="k">del</span> <span class="n">ds_in</span>

<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">da_list</span><span class="p">)</span>

<span class="k">del</span> <span class="n">da_list</span>

<span class="n">aice</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="s1">&#39;aice&#39;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">aice</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The next step is to read in some grid information for the <code class="docutils literal notranslate"><span class="pre">gx1v7</span></code> dipole grid used in POP and CICE. We will read in three main variables: <code class="docutils literal notranslate"><span class="pre">TAREA</span></code>, <code class="docutils literal notranslate"><span class="pre">TLAT</span></code>, and <code class="docutils literal notranslate"><span class="pre">TLON</span></code>. These are the areas of the gridcells along with the latitudes and longitudes of the gridcell centers. Also, we will print the area array <code class="docutils literal notranslate"><span class="pre">TAREA</span></code> to see the metadata.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get pop grid grid cell areas</span>
<span class="n">grid</span> <span class="o">=</span> <span class="n">pop_tools</span><span class="o">.</span><span class="n">get_grid</span><span class="p">(</span><span class="s1">&#39;POP_gx1v7&#39;</span><span class="p">)</span>

<span class="c1"># convert tarea to m^2</span>
<span class="k">with</span> <span class="n">xr</span><span class="o">.</span><span class="n">set_options</span><span class="p">(</span><span class="n">keep_attrs</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">grid</span><span class="p">[</span><span class="s1">&#39;TAREA&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="s1">&#39;TAREA&#39;</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="mf">1e4</span><span class="p">)</span>
<span class="n">grid</span><span class="p">[</span><span class="s1">&#39;TAREA&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;m^2&#39;</span>

<span class="n">grid</span>

<span class="n">grid</span><span class="p">[</span><span class="s1">&#39;TAREA&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>We will merge in three main variables: <code class="docutils literal notranslate"><span class="pre">TAREA</span></code>, <code class="docutils literal notranslate"><span class="pre">TLAT</span></code>, and <code class="docutils literal notranslate"><span class="pre">TLON</span></code>. These are the areas of the gridcells along with the latitudes and longitudes of the gridcell centers. Note that this overwrites the dataset object from above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">merge</span><span class="p">([</span><span class="n">aice</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;TLAT&#39;</span><span class="p">,</span> <span class="s1">&#39;TLON&#39;</span><span class="p">,</span> <span class="s1">&#39;ULAT&#39;</span><span class="p">,</span> <span class="s1">&#39;ULON&#39;</span><span class="p">]),</span>
               <span class="n">grid</span><span class="p">[[</span><span class="s1">&#39;TLAT&#39;</span><span class="p">,</span> <span class="s1">&#39;TLONG&#39;</span><span class="p">,</span> <span class="s1">&#39;TAREA&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">rename_dims</span><span class="p">({</span><span class="s1">&#39;nlat&#39;</span><span class="p">:</span><span class="s1">&#39;nj&#39;</span><span class="p">,</span><span class="s1">&#39;nlon&#39;</span><span class="p">:</span><span class="s1">&#39;ni&#39;</span><span class="p">})],</span>
              <span class="n">compat</span><span class="o">=</span><span class="s1">&#39;identical&#39;</span><span class="p">,</span> <span class="n">combine_attrs</span><span class="o">=</span><span class="s1">&#39;no_conflicts&#39;</span><span class="p">)</span>
<span class="n">grid</span><span class="p">[</span><span class="s1">&#39;TLAT&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>The next step is to compute the ice area in each grid cell by multiplying the grid cell areas by the ice area fraction. Then we subset to just grid cells in the Northern hemisphere (using <code class="docutils literal notranslate"><span class="pre">where</span></code>). Finally, we sum over all of the grid cells. We can do these operations in a single line:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_area</span> <span class="o">=</span> <span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">TAREA</span><span class="o">*</span><span class="n">ds</span><span class="o">.</span><span class="n">aice</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">TLAT</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;nj&#39;</span><span class="p">,</span><span class="s1">&#39;ni&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_area</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="alert alert-success">   
<details>
<summary><font face="Times New Roman" color='blue'>Click here for the solution</font></summary><br>
<p><img alt="plot example" src="../../../_images/basics_plot_21.png" /></p>
<p><em><p style="text-align: center;"> Figure: Plotting solution. </p></em></p>
</details>
</div><p>This plot looks very noisy! Why do you think this is? Hint: you have plotted how many years of monthly mean data? Let’s try just plotting September instead.</p>
<p><strong>Question:</strong> Why do we use month 10 (<code class="docutils literal notranslate"><span class="pre">ds_area.time.dt.month.isin([10])</span></code>) to reference September data?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_area</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">ds_area</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">10</span><span class="p">]))</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="alert alert-success">   
<details>
<summary><font face="Times New Roman" color='blue'>Click here for the solution</font></summary><br>
<p><img alt="plot example" src="../../../_images/basics_plot_31.png" /></p>
<p><em><p style="text-align: center;"> Figure: Plotting solution. </p></em></p>
</details>
</div><p>Now let’s plot the observational data on top. The NSIDC Sea Ice Index will be the values we want. These are computed from satellite observations. More information can be found here <a class="reference external" href="https://nsidc.org/data/seaice_index">Sea Ice Index</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##### Add the data values manually from the datafile.</span>
<span class="c1">##### Create an xarray object with the NSIDC values and the years from 1979 to 2022.</span>

<span class="n">seaice_index</span> <span class="o">=</span> <span class="p">[</span><span class="mf">4.58</span><span class="p">,</span><span class="mf">4.87</span><span class="p">,</span><span class="mf">4.44</span><span class="p">,</span><span class="mf">4.43</span><span class="p">,</span><span class="mf">4.7</span><span class="p">,</span><span class="mf">4.11</span><span class="p">,</span><span class="mf">4.23</span><span class="p">,</span><span class="mf">4.72</span><span class="p">,</span><span class="mf">5.64</span><span class="p">,</span><span class="mf">5.36</span><span class="p">,</span><span class="mf">4.86</span><span class="p">,</span><span class="mf">4.55</span><span class="p">,</span><span class="mf">4.51</span><span class="p">,</span><span class="mf">5.43</span><span class="p">,</span><span class="mf">4.58</span><span class="p">,</span><span class="mf">5.13</span><span class="p">,</span><span class="mf">4.43</span><span class="p">,</span><span class="mf">5.62</span><span class="p">,</span>\
                <span class="mf">4.89</span><span class="p">,</span><span class="mf">4.3</span><span class="p">,</span><span class="mf">4.29</span><span class="p">,</span><span class="mf">4.35</span><span class="p">,</span><span class="mf">4.59</span><span class="p">,</span><span class="mf">4.03</span><span class="p">,</span><span class="mf">4.05</span><span class="p">,</span><span class="mf">4.39</span><span class="p">,</span><span class="mf">4.07</span><span class="p">,</span><span class="mf">4.01</span><span class="p">,</span><span class="mf">2.82</span><span class="p">,</span><span class="mf">3.26</span><span class="p">,</span><span class="mf">3.76</span><span class="p">,</span><span class="mf">3.34</span><span class="p">,</span><span class="mf">3.21</span><span class="p">,</span><span class="mf">2.41</span><span class="p">,</span><span class="mf">3.78</span><span class="p">,</span><span class="mf">3.74</span><span class="p">,</span>\
                <span class="mf">3.42</span><span class="p">,</span><span class="mf">2.91</span><span class="p">,</span><span class="mf">3.35</span><span class="p">,</span><span class="mf">3.35</span><span class="p">,</span><span class="mf">3.17</span><span class="p">,</span><span class="mf">2.83</span><span class="p">,</span><span class="mf">3.47</span><span class="p">,</span><span class="mf">3.47</span><span class="p">]</span>

<span class="c1"># Convert to m^2</span>
<span class="n">seaice_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">seaice_index</span><span class="p">)</span>
<span class="n">seaice_index</span> <span class="o">*=</span> <span class="mf">1e12</span>

<span class="n">nsidc_time</span> <span class="o">=</span> <span class="p">[</span><span class="n">cftime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1979</span><span class="p">,</span><span class="mi">2023</span><span class="p">)]</span>

<span class="n">nsidc_index</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">seaice_index</span><span class="p">,</span><span class="n">coords</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span><span class="n">nsidc_time</span><span class="p">})</span>

<span class="n">nsidc_index</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_area</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">ds_area</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">10</span><span class="p">]))</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">nsidc_index</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="alert alert-success">   
<details>
<summary><font face="Times New Roman" color='blue'>Click here for the solution</font></summary><br>
<p><img alt="plot example" src="../../../_images/basics_plot_41.png" /></p>
<p><em><p style="text-align: center;"> Figure: Plotting solution. </p></em></p>
</details>
</div><p><strong>Question:</strong></p>
<p>Why do you think the observed (orange) does not perfectly correspond to the model?</p>
<div class="alert alert-warning">  
<details>
<summary> <font face="Times New Roman" color='blue'>Click here for hints</font> </summary>
<p>The model is one of 100 ensemble realizations of the 20th century and evolves independently, meaning each simulation has different weather and that weather will almost certainly be different from the observations. It will not, and should not, exactly match the observations because the climate system is chaotic.</p>
</details>
</div><p><strong>Question:</strong></p>
<p>What do you think you’ll see if you plot the March total area timeseries?</p>
<div class="alert alert-warning">  
<details>
<summary> <font face="Times New Roman" color='blue'>Click here for hints</font> </summary>
<p>March total area.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ds_area</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">ds_area</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">4</span><span class="p">]))</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<p>This should be higher mean and have a negative, but smaller, trend than the September trend.</p>
</details>
</div><p><strong>Question:</strong></p>
<p>Try computing total ice volume and plotting it.</p>
<div class="alert alert-warning">  
<details>
<summary> <font face="Times New Roman" color='blue'>Click here for hints</font> </summary>
<p>To calculate ice volume, use the variable <code class="docutils literal notranslate"><span class="pre">hi</span></code> in place of <code class="docutils literal notranslate"><span class="pre">aice</span></code>. Note that volume is units of <span class="math notranslate nohighlight">\(m^3\)</span>. So, you might want to scale the volume by <span class="math notranslate nohighlight">\(1.0e-13\)</span>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ds_vol</span> <span class="o">=</span> <span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">TAREA</span><span class="o">*</span><span class="n">ds</span><span class="o">.</span><span class="n">hi</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">TLAT</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;nj&#39;</span><span class="p">,</span><span class="s1">&#39;ni&#39;</span><span class="p">])</span>
</pre></div>
</div>
</details>
</div><p><strong>Question:</strong></p>
<p>What does the Southern Hemisphere sea ice area and volume look like?</p>
<div class="alert alert-warning">  
<details>
<summary> <font face="Times New Roman" color='blue'>Click here for hints</font> </summary>
<p>To calculate the Southern Hemisphere total area or volume, set the following values so that you only include points where the latitude is <em>less than</em> zero.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ds_area</span> <span class="o">=</span> <span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">TAREA</span><span class="o">*</span><span class="n">ds</span><span class="o">.</span><span class="n">aice</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">TLAT</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;nj&#39;</span><span class="p">,</span><span class="s1">&#39;ni&#39;</span><span class="p">])</span>
</pre></div>
</div>
</details>
</div></section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "npl-2023a"
        },
        kernelOptions: {
            name: "npl-2023a",
            path: "./notebooks/diagnostics/cice"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'npl-2023a'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="cice.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Sea Ice</p>
      </div>
    </a>
    <a class="right-next"
       href="advanced_cice.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Advanced Plotting</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1-plot-sea-ice-concentration-on-a-polar-projection">Exercise 1: Plot Sea Ice Concentration on a polar projection.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2-plot-a-time-series-of-total-sea-ice-area">Exercise 2: Plot a time series of total sea ice area.</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By NCAR/CGD Staff
</p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>